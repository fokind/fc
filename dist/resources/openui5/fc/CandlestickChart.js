sap.ui.define(["openui5/fc/Series","openui5/fc/library","openui5/fc/thirdparty/d3","openui5/fc/thirdparty/moment-with-locales"],function(e){"use strict";return e.extend("openui5.fc.CandlestickChart",{metadata:{aggregations:{items:{type:"openui5.fc.Candle",multiple:true}}},renderer:{},_draw:function(){var t=this;e.prototype._draw.apply(t);var a=t.getParent();var r=a.getAggregation("_timeAxis");var n=r.getStart();var i=r.getEnd();var g=t.getItems().filter(e=>moment(e.getTime()).isBetween(n,i,"m","[]"));var m=r._scale;var o=a.getAggregation("_valueAxis")._scale;var s=d3.select("#"+t.getId());var l=.8;var d=m(moment(moment(n).toDate()).add(+a.getTimeframe(),"m").toDate());var p=s.selectAll().data(g).enter().filter(e=>moment(e.getTime()).isBetween(n,i,"m","[]")).append("g").classed("fcBullish",e=>e.getClose()>=e.getOpen()).classed("fcBearish",e=>e.getClose()<e.getOpen());p.append("line").classed("fcCandleShadow",true).attr("x1",e=>m(moment(e.getTime()).toDate())+d/2).attr("x2",e=>m(moment(e.getTime()).toDate())+d/2).attr("y1",e=>o(e.getHigh())).attr("y2",e=>o(e.getLow()));p.append("rect").classed("fcCandleBody",true).attr("x",e=>m(moment(e.getTime()).toDate())+(1-l)*d/2).attr("y",e=>o(Math.max(e.getOpen(),e.getClose()))).attr("height",e=>Math.max(1,o(Math.min(e.getOpen(),e.getClose()))-o(Math.max(e.getOpen(),e.getClose())))).attr("width",l*d)}})});