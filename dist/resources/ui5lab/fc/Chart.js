sap.ui.define(["sap/ui/core/Control","sap/ui/core/ResizeHandler","ui5lab/fc/library","ui5lab/fc/thirdparty/d3"],function(t,e){"use strict";return t.extend("ui5lab.fc.Chart",{metadata:{library:"ui5lab.fc",properties:{height:"string",padding:"string",start:"string",end:"string",timeframe:"string"},aggregations:{items:{type:"ui5lab.fc.ChartItem",multiple:true}},defaultAggregation:"items"},init:function(){this._fPaddingTop=0;this._fPaddingRight=0;this._fPaddingBottom=0;this._fPaddingLeft=0;var t=this;e.register(t,function(e){t._onResize(e)})},_onResize:function(t){var e=this;var i=d3.select("#"+e.getId());var a=t.size.width;var r=t.size.height;var n=e._fPaddingTop;var d=e._fPaddingLeft;var s=i.select("svg").attr("width",a).attr("height",r-4);s.select(".fcPlotArea").attr("transform",`translate(${d}, ${n})`).attr("width",a-d-e._fPaddingRight).attr("height",r-e._fPaddingBottom-n)},bindAggregation:function(t,e){if(!e.length)e.length=1e6;return sap.ui.core.Control.prototype.bindAggregation.apply(this,arguments)},setPadding:function(t){var e=t.split(" ");var i=e.length;this._fPaddingTop=+e[0];this._fPaddingRight=+e[i===1?0:1];this._fPaddingBottom=+e[i<3?0:2];this._fPaddingLeft=+e[i===1?0:i===4?3:1];this.setProperty("padding",t,true)},getTimeScale:function(){var t=d3.select("#"+this.getId());var e=t.select("svg");var i=e.select(".fcPlotArea");var a=+i.attr("width");var r=moment(this.getStart()).toDate();var n=moment(this.getEnd()).add(1,"m").toDate();return d3.scaleTime().range([0,a]).domain([r,n])},getYScale:function(t,e){var i=d3.select("#"+this.getId());var a=i.select("svg");var r=a.select(".fcPlotArea");var n=+r.attr("height");return d3.scaleLinear().range([n,0]).domain([t,e])}})});