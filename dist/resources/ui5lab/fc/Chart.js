sap.ui.define(["sap/ui/core/Control","ui5lab/fc/library","ui5lab/fc/thirdparty/d3"],function(t){"use strict";return t.extend("ui5lab.fc.Chart",{metadata:{library:"ui5lab.fc",properties:{width:"float",height:"float",padding:"string"},aggregations:{items:{type:"ui5lab.fc.ChartItem",multiple:true}},defaultAggregation:"items"},init:function(){this._fPaddingTop=0;this._fPaddingRight=0;this._fPaddingBottom=0;this._fPaddingLeft=0;var t=this;$(window).on("resize",t.rerender.bind(t))},bindAggregation:function(t,e){if(!e.length)e.length=1e6;return sap.ui.core.Control.prototype.bindAggregation.apply(this,arguments)},setPadding:function(t){var e=t.split(" ");var i=e.length;this._fPaddingTop=+e[0];this._fPaddingRight=+e[i===1?0:1];this._fPaddingBottom=+e[i<3?0:2];this._fPaddingLeft=+e[i===1?0:i===4?3:1];this.setProperty("padding",t,true)},getTimeScale:function(){var t=d3.select("#"+this.getId());var e=t.select("svg");var i=e.select(".fcPlotArea");var a=+i.attr("width");var r=this.getItems();var n=moment(r[0].getTime()).toDate();var d=moment(r[1].getTime()).diff(n,"m");var g=moment(r[r.length-1].getTime()).add(d,"m").toDate();return d3.scaleTime().range([0,a]).domain([n,g])},getYScale:function(t,e){var i=d3.select("#"+this.getId());var a=i.select("svg");var r=a.select(".fcPlotArea");var n=+r.attr("height");return d3.scaleLinear().range([n,0]).domain([t,e])},onAfterRendering:function(){var t=this;var e=d3.select("#"+t.getId());var i=e.node().parentNode;var a=i.offsetWidth;var r=i.offsetHeight;var n=t._fPaddingTop;var d=t._fPaddingLeft;var g=e.select("svg").attr("width",a).attr("height",r);g.select(".fcPlotArea").attr("transform",`translate(${d}, ${n})`).attr("width",a-d-t._fPaddingRight).attr("height",r-t._fPaddingBottom-n)}})});